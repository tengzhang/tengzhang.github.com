<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>code-standards | Zhang Teng&#39;Blog</title>
  <meta name="author" content="Zhang Teng">
  
  <meta name="description" content="后端
工程结构分为service和web
注释
类头要写明该类的职责是什么。for example:

12345678/** * 职责 * @Description * * @author zhangteng * @email zhangt@pandawork.net * @time: 2014/7/9 14:25 */">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="code-standards"/>
  <meta property="og:site_name" content="Zhang Teng&#39;Blog"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/favicon.ico" rel="shortcut icon">
  <link rel="alternate" href="/atom.xml" title="Zhang Teng&#39;Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/highlight.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="https://code.bdstatic.com/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

  

<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  <header id="header" class="inner"><div id="nav-top">
  <div class="alignleft main-title">
    <a href="/">
		<h1>Zhang Teng&#39;Blog</h1>
	</a>
    <h2></h2>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/aboutme">About me</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-07-19T14:42:52.000Z"><a href="/2014/07/19/code-standards/">2014-07-19</a></time>
      
      
  
    <h1 class="title">code-standards</h1>
  

      
    </header>
    <div class="entry">
      
        
          
        
        <h1 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h1><hr>
<h2 id="工程结构"><a href="#工程结构" class="headerlink" title="工程结构"></a>工程结构</h2><p>分为<code>service</code>和<code>web</code></p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ol>
<li>类头要写明该类的职责是什么。<br>for example:</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 职责</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangteng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@email</span> zhangt@pandawork.net</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span>: 2014/7/9 14:25</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>

<ol start="2">
<li>方法要写明该方法的功能是什么。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取分页列表</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> curPage</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> startTime</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endTime</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>方法里面要有适当的注释。不能写了一个方法100行，一个注释都没有。</li>
<li>数据库表要有一个总的声明，每个字段有相关说明。</li>
<li>实体或者业务修改，也要修改相关数据表中表对应的字段说明。保持一致。</li>
</ol>
<h2 id="后端规范"><a href="#后端规范" class="headerlink" title="后端规范"></a>后端规范</h2><h3 id="类名称"><a href="#类名称" class="headerlink" title="类名称"></a>类名称</h3><ol>
<li>以大写字母开头。</li>
<li>以驼峰方式命名。</li>
</ol>
<h3 id="属性名、方法名"><a href="#属性名、方法名" class="headerlink" title="属性名、方法名"></a>属性名、方法名</h3><ol>
<li>以小写字母开头。</li>
<li>以驼峰方式命名。</li>
</ol>
<h3 id="常量命名规范"><a href="#常量命名规范" class="headerlink" title="常量命名规范"></a>常量命名规范</h3><ol>
<li>所有字母大写</li>
<li>单词之间用’_’分隔</li>
</ol>
<h3 id="service-mapper方法名"><a href="#service-mapper方法名" class="headerlink" title="service,mapper方法名"></a>service,mapper方法名</h3><p>方法名，根据不同的功能，按照不同的前缀进行设计。如下表：</p>
<table>
<thead>
<tr>
<th>功能说明</th>
<th>前缀</th>
</tr>
</thead>
<tbody><tr>
<td>计算数量</td>
<td>count</td>
</tr>
<tr>
<td>获取列表</td>
<td>list</td>
</tr>
<tr>
<td>查询功能</td>
<td>query</td>
</tr>
<tr>
<td>创建</td>
<td>add</td>
</tr>
<tr>
<td>删除</td>
<td>del</td>
</tr>
<tr>
<td>修改</td>
<td>update</td>
</tr>
</tbody></table>
<h3 id="controller命名规范"><a href="#controller命名规范" class="headerlink" title="controller命名规范"></a>controller命名规范</h3><table>
<thead>
<tr>
<th>功能说明</th>
<th>前缀</th>
</tr>
</thead>
<tbody><tr>
<td>计算数量</td>
<td>count</td>
</tr>
<tr>
<td>获取列表</td>
<td>list</td>
</tr>
<tr>
<td>查询功能</td>
<td>query</td>
</tr>
<tr>
<td>创建</td>
<td>add</td>
</tr>
<tr>
<td>删除</td>
<td>del</td>
</tr>
<tr>
<td>修改</td>
<td>update</td>
</tr>
<tr>
<td>如果是ajax，则需要在此前加上ajax。例如：</td>
<td></td>
</tr>
<tr>
<td>要通过ajax按照ID删除一个产品，方法名为ajaxDelProductById</td>
<td></td>
</tr>
</tbody></table>
<h3 id="URL规范"><a href="#URL规范" class="headerlink" title="URL规范"></a>URL规范</h3><h4 id="URL结构"><a href="#URL结构" class="headerlink" title="URL结构"></a>URL结构</h4><p>下面，我们以用户为例。</p>
<ul>
<li>CREATE<br>&#x2F;user&#x2F;new        GET              这个Url负责跳转到提交表单的页面，用Get方法<br>&#x2F;user            POST       	  负责接收表单提交的数据，用POST方法</li>
<li>DELETE<br>&#x2F;user&#x2F;{id}&#x2F;del   GET              跳转到提交删除请求的页面，用GET方法（可选）<br>&#x2F;user&#x2F;{id}       DELETE           负责接收要删除的用户的数据，用DELETE方法</li>
<li>UPDATE<br>&#x2F;user&#x2F;{id}&#x2F;update     GET         跳转到用户修改的页面，用GET方法<br>&#x2F;user&#x2F;{id}       PUT              负责接收表单提交的数据，修改用户，用PUT方法</li>
<li>READ<br>&#x2F;user            GET              跳转到查看用户列表的页面，用GET方法<br>&#x2F;user&#x2F;{id}       GET              跳转到查看某个用户的页面，用GET方法</li>
<li>OTHER<br>&#x2F;user&#x2F;{id}&#x2F;lock  PUT       		 有些时候，为了表示某一动作对用户产生的变化，我们这样命名，比如用户的锁定</li>
<li>分页<br>&#x2F;user&#x2F;{curPage} GET              大家可以用这个来进行获取分页列表</li>
</ul>
<h3 id="mapper层SQL语句书写规范"><a href="#mapper层SQL语句书写规范" class="headerlink" title="mapper层SQL语句书写规范"></a>mapper层SQL语句书写规范</h3><p>书写SQL语句时，SQL中的关键字全部采用大写，如下所示</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `t_quality_check_item`</span><br></pre></td></tr></table></figure>
<p>SELECT、FROM、INSERT INTO、UPDATE、DELETE、AND、OR、LIKE、LIMIT、ORDER等关键字，在mapper中书写SQL语句时均采用大写。</p>
<h3 id="后端开发注意事项"><a href="#后端开发注意事项" class="headerlink" title="后端开发注意事项"></a>后端开发注意事项</h3><ol>
<li>职责单一化<br>要确保所写的程序职责单一，例如，有ProductService，和一个DiscountService，两者的区别在于一个是对产品的操作，另外一个是折扣的业务，在ProductService中，出现直接调去DiscountMapper的方法。<br>如上例，一个方法可以，多了，整个工程会出现轮乱局面，正确做法是走discountService进行相关的折扣计算。</li>
<li>重复方法<br>此类问题最为严重，禁止在同一个Service中，或在mapper中出现多个名称不一样，但功能一样的方法。</li>
</ol>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="数据库表名命名规则"><a href="#数据库表名命名规则" class="headerlink" title="数据库表名命名规则"></a>数据库表名命名规则</h3><ol>
<li>表名由前缀和实际名字组成，前缀和实际名字之间使用“<em>”连接。前缀使用“t”，实际名字都使用小写单词，多个单词之间使用“</em>”连接。例如：t_student_info</li>
<li>如果要进行分表时，表的命名直接在表名的后面加上分表的标志。例如，t_user001,t_user002,t_user003</li>
<li>表名的构成有t_模块名称_自己的表名。</li>
</ol>
<h3 id="字段命名规则"><a href="#字段命名规则" class="headerlink" title="字段命名规则"></a>字段命名规则</h3><ol>
<li>每一个表都将有一个自动id作为主健,逻辑上的主健作为第一组候选主健来定义,如果是数据库自动生成的编码，统一命名为：id;如果是自定义的逻辑上的编码则用缩写 加“id”的方法命名。</li>
<li>采用前缀命名。给每个表的列名都采用统一的前缀，后面的单词或则缩写都以大写字母开头</li>
</ol>
<h3 id="数据表的存储引擎和索引约定规则"><a href="#数据表的存储引擎和索引约定规则" class="headerlink" title="数据表的存储引擎和索引约定规则"></a>数据表的存储引擎和索引约定规则</h3><ol>
<li>现在所有表的存储引擎都要选择InnoDB，如果需要设为其他存储引擎的时，要特别说明。</li>
<li>在建立查询时候，务必要建立好数据库的索引，在确保查询语句使用正确高效可靠以后，养成马上建立对于索引的习惯。</li>
<li>索引名称格式如下：<ul>
<li>index_索引类型_表名_按照索引顺序编写字段名，以_为分隔符。</li>
<li>index_t_books_isbn（普通索引）</li>
<li>index_unique_t_books_isbn(构建唯一索引)</li>
</ul>
</li>
</ol>
<p>索引的类型一般有三种类型，分别是普通索引（数据库中的index）, 唯一索引（数据库中的index unique),全文索引，这个基本上我们不会使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url</span>:&#123;</span><br><span class="line">    <span class="attr">index</span>:&#123;</span><br><span class="line">        <span class="attr">login</span>:&#123;</span><br><span class="line">            <span class="attr">check</span>: <span class="string">&#x27;$&#123;website&#125;index/login/check&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
      
      
        <div class="alignright share-box">
  
</div>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  
    <form>
      <input id="" type="search" placeholder="Search">
    </form>
    <div id="st-results-container"></div>
  
</div>

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <div class="entry">
    
      <span><a href="/tags/centos/">centos<small>1</small></a></span>
    
      <span><a href="/tags/docker/">docker<small>2</small></a></span>
    
      <span><a href="/tags/gitlab/">gitlab<small>2</small></a></span>
    
      <span><a href="/tags/hadoop/">hadoop<small>2</small></a></span>
    
      <span><a href="/tags/hbase/">hbase<small>1</small></a></span>
    
      <span><a href="/tags/java/">java<small>4</small></a></span>
    
      <span><a href="/tags/leetcode/">leetcode<small>1</small></a></span>
    
      <span><a href="/tags/linux/">linux<small>7</small></a></span>
    
      <span><a href="/tags/mysql/">mysql<small>2</small></a></span>
    
      <span><a href="/tags/redmine/">redmine<small>1</small></a></span>
    
      <span><a href="/tags/vim/">vim<small>2</small></a></span>
    
  </div>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">Tag Cloud</h3>
  <div class="entry">
    <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/docker/" style="font-size: 13.33px;">docker</a> <a href="/tags/gitlab/" style="font-size: 13.33px;">gitlab</a> <a href="/tags/hadoop/" style="font-size: 13.33px;">hadoop</a> <a href="/tags/hbase/" style="font-size: 10px;">hbase</a> <a href="/tags/java/" style="font-size: 16.67px;">java</a> <a href="/tags/leetcode/" style="font-size: 10px;">leetcode</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/mysql/" style="font-size: 13.33px;">mysql</a> <a href="/tags/redmine/" style="font-size: 10px;">redmine</a> <a href="/tags/vim/" style="font-size: 13.33px;">vim</a>
  </div>
</div>




  <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

    _st('install','');
  </script>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div id="foot-nav">
  <ul class="social">
    
      <li><a class="github" target="_blank" rel="noopener" href="https://github.com/tengzhang" title="github">github</a></li>
    
      <li><a class="rss" href="/atom.xml" title="rss">rss</a></li>
    
  </ul>
</div>
<div>
  
    &copy; 2025 Zhang Teng
  
</div>
<div class="clearfix"></div></footer>
  


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script type="text/javascript">
  function navbar() {
    var top = $('#nav-top').innerHeight();
    $('#header').css('min-height', top);
  }
  navbar();
  $(window).resize(navbar);
</script>
<div id="totop" class="footer-btn">
  <a title="Return to Top"><img src="/img/scrollup.png"/></a>
</div>

<script type="text/javascript">
  $(function(){ 
	// When to show the scroll link
	// higher number = scroll link appears further down the page   
	var upperLimit = 800;
	
	// Our scroll link element
	var scrollElem = $('#totop');
   
	// Scroll to top speed
	var scrollSpeed = 500;
   
	// Show and hide the scroll to top link based on scroll position   
	scrollElem.hide();
	$(window).scroll(function () {            
		var scrollTop = $(document).scrollTop();       
		if ( scrollTop > upperLimit ) {
		  $(scrollElem).stop().fadeTo(300, 1); // fade back in
		  $(scrollElem).animate({bottom: "50px"}, { queue: false, duration: 10 });
		} else {
		  $(scrollElem).stop().fadeTo(300, 0); // fade out
	      $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
			
		}
	});

	// Scroll to top animation on click
	$(scrollElem).click(function(){
	  $('html, body').animate({scrollTop:0}, scrollSpeed);
	  $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
	  return false;
	});
  });
</script>
</body>
</html>